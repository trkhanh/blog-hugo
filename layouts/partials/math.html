<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
  crossorigin="anonymous"
></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    $(".entry-content .language-math").each(function() {
      var $this = $(this);
      var wrapper = $('<div class="math-display"></div>').html($this.text());
      $this.parent().replaceWith(wrapper);
    });
    $(".entry-content code").each(function() {
      var $this = $(this);
      var inner = $this.html();
      if (inner.length > 2 && inner.startsWith('$') && inner.endsWith('$')) {
        $this.replaceWith($('<span class="math-inline"></span>').html(inner));
      }
    });
    renderMathInElement(document.getElementById("main"), {
      delimiters: [
        { left: "\\[", right: "\\]", display: true },
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
      ]
    });
  });
</script>
